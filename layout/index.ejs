<header class="hd-img">
  <div class="overlay"></div>
  <div class="container">
    <div class="index-hd-title">
      <h1 class="index-subtitle"><%- config.subtitle %></h1>
    </div>
  </div>
</header>

<div class="container article-index-list">

  <% page.posts.each(function(post){ %>
    <article id="<%= post.layout %>-<%= post.slug %>" class="article article-type-<%= post.layout %>">
    
      <% if (post.link || post.title){ %>
        <header class="article-header">
          <%- partial('_partial/post/title', {post: post, page_type: 'index', class_name: 'article-title'})%>
        </header>
      <% } %>

      <div class="article-excerpt">
        <p><%- truncate(strip_html(post.content), {length: 150, omission: '...'}) %></p>
      </div>

      <div class="article-meta">
        <%- partial('_partial/post/date', {
          post: post, 
          page_type: 'index', 
          class_name: 'article-date',
          date_format: 'll'
        }) %>

        <%- partial('_partial/post/category', {post: post}) %>
      </div>

    </article>
  <% }) %>

  <% if (page.total > 1){ %>
    <nav id="page-nav">
      <% var prev_text =  __('prev');var next_text = __('next') %>
      <%- paginator({
        mid_size: 1,
        end_size: 1,
        space: '···',
        prev_text: prev_text,
        next_text: next_text
      }) %>
    </nav>
  <% } %>

</div>